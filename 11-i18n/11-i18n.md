# 국제화

`Moment.js`, `Numeral.js` 등의 서드파티 라이브러리

experimental (ECMAScript Suggestion): `Temporal` API

국제화 API의 "로케일"(locale)

language-LOCATION

eg. en-US, en-CA, ko-KR

## 11.1 날짜 포맷하기

`Intl.DateTimeFormat`: Date 객체를 formatted String으로

사용자의 현재 로케일: `navigator.language`

* 예시 (in en-US)
  * short: 3/17/25
  * medium: Mar 17, 2025
  * long: March 17, 2025
  * full: Monday, March 17, 2025
* (in ko-KR)
  * short: 25. 3. 17.
  * medium: 2025. 3. 17.
  * long: 2025년 3월 17일
  * full: 2025년 3월 17일 월요일

```js
const formatter = new Intl.DateTimeFormat(
  navigator.language, {
    dateStyle: 'long'
  }
);

// 시간 포함
const formatter2 = new Intl.DateTimeFormat(
  navigator.language, {
    dateStyle: 'long', timeStyle: 'long'
  }
);

const formmatedDateAndTime = formatter.format(new Date());
```

## 11.2 포맷된 날짜의 일부 가져오기

`formatToParts()` 메서드: 구성요소의 배열 반환

```js
const formatter2 = new Intl.DateTimeFormat(
  navigator.language, {
    dateStyle: 'short'
  }
);

const parts = formatter.formatToParts(new Date());
// en-US short:
// [
//  {type: 'month', value: '3' },
//  {type: 'literal', value: '/' },
//  {type: 'day', value: '17' },
//  {type: 'literal', value: '/' },
//  {type: 'year', value: '25' }
// ]
```

## 11.3 상대적인 날짜 포맷하기

[사용 예시](./11-3-relative.js)

## 11.4 숫자 포맷하기

숫자, 숫자 범위 등 포맷하기

```js
// result: "5,200.55" (in ko-KR)
console.log(
  new Intl.NumberFormat().format(5200.55)
)

// result: "5.200,55"
console.log(
  new Intl.NumberFormat('de-DE').format(5200.55)
)

// result: "1,000-5,000" (in en-US)
console.log(
  new Intl.NumberFormat().formatRange(1000, 5000)
)
```

## 11.5 특정 소수점 자리에서 반올림하기

[예시 파일](./11-5-round.js)

## 11.6 가격 범위 형식 설정하기

숫자 배열 >> 최저치와 최고치를 가격 범위로 포맷하기

[예시 파일](./11-6-price-range.js)

## 11.7 측정 단위 형식 설정하기

참고: 지원 unit 확인 `Intl.supportedValuesOf("unit")`

```js
const format = new Intl.NumberFormat(navigator.language, {
  style: 'unit',
  unit: 'gigabyte'
});

// "1,000GB"
console.log(format.format(1000));
```

* 참고: `unitDisplay` 옵션
  * `short`: "1,000 GB"
  * `narrow`: "1,000GB"
  * `long`: "1,000 gigabytes"

## 11.8 복수형 규칙 적용하기

* [MDN 문서: `Intl.PluralRules`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/PluralRules)
* [적용 예시](./11-8-plural.js)

* 복수형 표현법이 있는 언어를 지원하기 (eg. 폴란드어 - one/few/many)
* 서수 표현법 언어를 지원하기 (eg. 영어 - 1st/2nd/3rd/000th)
  * 포맷 규칙이 다르므로 확인하고 적용하기

## 11.9 문자 수, 단어 수, 문장 수 세기

`Intl.Segmenter`: `grapheme`, `word`, `sentence`

[활용 예시](./11-9-counting.js)

(단어를 셀 때 blank를 세는지 확인하기)

## 11.10 목록 형식 설정하기

`Intl.ListFormat()`

```js
// users{}의 username이 각각 user1, user2, user3일 때
// return: "user1, user2, and user3" (en-US)
// return: "user1, user2 und user3" (de-DE)
function getUserListString(users, locale = 'en-US') {
  const listFormat = new Intl.ListFormat(locale);
  return listFormat.format(users.map(user => user.username));
}
```

## 11.11 이름 배열 정렬하기

`Intl.Collator` 인스턴스를 `Array.prototype.sort`에 전달해서 쓰기

```js
// 로케일에 따라 정렬 순서가 달라질 수 있는 이름들 (eg. de vs. sv)
const names = [
  "Elena", "Mário", "André", "Renée", "Léo", "Olga", "Héctor"
]

const collator = new Intl.Collator();
names.sort(collator.compare);
```

`Collator`의 이점 (v. `a.localeCompare(b)`): 로케일 설정 가능 / 로직의 미세 변경 가능

eg. `["1", "2", "20", "3"]` & `[1, 2, 3, 20]`

```js
const numbers = [1, 2, 20, 3]

const collator = new Intl.Collator(navigator.language, {numeric: true});
numbers.sort(collator.compare);

```